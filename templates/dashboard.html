{{define "content"}}
<details id="settings">
    <summary class="button">[ Settings ]</summary>
    <div class="details-contents">
        <div class="setting">
            <label>
                Digital Ocean Token:
                {{if .Account.DigitalOceanToken}}
                <input type="text" name="pin" value="{{.Account.DigitalOceanToken}}">
                <input hx-get="/token/add" hx-target="#settings" class="button" type="submit" value="[ Edit ]">
                {{else}}
                <input hx-get="/token/add" hx-target="#settings" class="button" type="submit" value="[ Add ]">
                {{end}}
            </label>

        </div>
    </div>
</details>
<div id="endpoints">
    <details>
        <summary class="button">[ Endpoints ]</summary>
        <div class="details-contents">
            <button class="button" hx-get="/endpoints/add" hx-target="#endpoints">[ Add ]</button>
            {{range .Account.Endpoints}}
            <details>
                <summary class="button">{{.ID}} | {{.Datacenter}} | {{.IP}}</summary>
                <div class="details-contents">
                    <button hx-delete="/endpoints/{{.ID}}" hx-target="#endpoints">Delete</button>
                    {{range .Clients}}
                    <details>
                        <summary class="button">{{.ID}}</summary>
                        <div class="details-contents">
                            <pre>{{.Config}}</pre>
                            <a href="/endpoints/{{.EndpointID}}/{{.ID}}">Download</a>
                            <img src="data:image/png;base64,{{.QR}}" alt="QR Code">
                        </div>
                    </details>
                    {{end}}
                </div>
            </details>
            {{end}}
        </div>
    </details>
</div>
{{end}}
